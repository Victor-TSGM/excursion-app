{"version":3,"sources":["CalendarYear.js"],"sourcesContent":["import * as React from 'react';\nimport { Enter, Space } from '@fluentui/keyboard-keys';\nimport { useArrowNavigationGroup } from '@fluentui/react-tabster';\nimport { mergeClasses } from '@griffel/react';\nimport { useCalendarYearStyles_unstable } from './useCalendarYearStyles.styles';\nconst CELL_COUNT = 12;\nconst CELLS_PER_ROW = 4;\nconst DefaultCalendarYearStrings = {\n    prevRangeAriaLabel: undefined,\n    nextRangeAriaLabel: undefined\n};\nconst CalendarYearGridCell = (props)=>{\n    const { className, highlightCurrentYear, highlightSelectedYear, year, selected, disabled, componentRef, onSelectYear, onRenderYear } = props;\n    const buttonRef = React.useRef(null);\n    React.useImperativeHandle(componentRef, ()=>({\n            focus () {\n                var _buttonRef_current_focus, _buttonRef_current;\n                (_buttonRef_current = buttonRef.current) === null || _buttonRef_current === void 0 ? void 0 : (_buttonRef_current_focus = _buttonRef_current.focus) === null || _buttonRef_current_focus === void 0 ? void 0 : _buttonRef_current_focus.call(_buttonRef_current);\n            }\n        }), []);\n    const onClick = ()=>{\n        onSelectYear === null || onSelectYear === void 0 ? void 0 : onSelectYear(year);\n    };\n    const onKeyDown = (ev)=>{\n        if (ev.key === Enter) {\n            onSelectYear === null || onSelectYear === void 0 ? void 0 : onSelectYear(year);\n        }\n    };\n    const classNames = useCalendarYearStyles_unstable({\n        className,\n        highlightCurrent: highlightCurrentYear,\n        highlightSelected: highlightSelectedYear\n    });\n    var _onRenderYear;\n    return /*#__PURE__*/ React.createElement(\"button\", {\n        className: mergeClasses(classNames.itemButton, selected && classNames.selected, disabled && classNames.disabled),\n        type: \"button\",\n        role: \"gridcell\",\n        onClick: !disabled ? onClick : undefined,\n        onKeyDown: !disabled ? onKeyDown : undefined,\n        disabled: disabled,\n        \"aria-selected\": selected,\n        ref: buttonRef\n    }, (_onRenderYear = onRenderYear === null || onRenderYear === void 0 ? void 0 : onRenderYear(year)) !== null && _onRenderYear !== void 0 ? _onRenderYear : year);\n};\nCalendarYearGridCell.displayName = 'CalendarYearGridCell';\nconst CalendarYearGrid = (props)=>{\n    const { className, fromYear, toYear, animationDirection, animateBackwards, minYear, maxYear, onSelectYear, selectedYear, componentRef } = props;\n    const selectedCellRef = React.useRef(null);\n    const currentCellRef = React.useRef(null);\n    React.useImperativeHandle(componentRef, ()=>({\n            focus () {\n                var _focus, _this;\n                (_this = selectedCellRef.current || currentCellRef.current) === null || _this === void 0 ? void 0 : (_focus = _this.focus) === null || _focus === void 0 ? void 0 : _focus.call(_this);\n            }\n        }), []);\n    const renderCell = (yearToRender)=>{\n        const selected = yearToRender === selectedYear;\n        const disabled = minYear !== undefined && yearToRender < minYear || maxYear !== undefined && yearToRender > maxYear;\n        const current = yearToRender === new Date().getFullYear();\n        return /*#__PURE__*/ React.createElement(CalendarYearGridCell, {\n            ...props,\n            key: yearToRender,\n            year: yearToRender,\n            selected: selected,\n            current: current,\n            disabled: disabled,\n            onSelectYear: onSelectYear,\n            componentRef: selected ? selectedCellRef : current ? currentCellRef : undefined\n        });\n    };\n    const classNames = useCalendarYearStyles_unstable({\n        className,\n        animateBackwards,\n        animationDirection\n    });\n    const onRenderYear = (value)=>{\n        var _props_onRenderYear;\n        var _props_onRenderYear1;\n        return (_props_onRenderYear1 = (_props_onRenderYear = props.onRenderYear) === null || _props_onRenderYear === void 0 ? void 0 : _props_onRenderYear.call(props, value)) !== null && _props_onRenderYear1 !== void 0 ? _props_onRenderYear1 : value;\n    };\n    const gridAriaLabel = `${onRenderYear(fromYear)} - ${onRenderYear(toYear)}`;\n    let year = fromYear;\n    const cells = [];\n    for(let i = 0; i < (toYear - fromYear + 1) / CELLS_PER_ROW; i++){\n        cells.push([]);\n        for(let j = 0; j < CELLS_PER_ROW; j++){\n            cells[i].push(renderCell(year));\n            year++;\n        }\n    }\n    const arrowNavigationAttributes = useArrowNavigationGroup({\n        axis: 'grid'\n    });\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        ...arrowNavigationAttributes,\n        className: classNames.gridContainer,\n        role: \"grid\",\n        \"aria-label\": gridAriaLabel\n    }, cells.map((cellRow, index)=>{\n        return /*#__PURE__*/ React.createElement(\"div\", {\n            key: 'yearPickerRow_' + index + '_' + fromYear,\n            role: \"row\",\n            className: classNames.buttonRow\n        }, cellRow);\n    }));\n};\nCalendarYearGrid.displayName = 'CalendarYearGrid';\nconst CalendarYearNavDirection = {\n    Previous: 0,\n    Next: 1\n};\nconst CalendarYearNavArrow = (props)=>{\n    const { className, strings = DefaultCalendarYearStrings, direction, onSelectPrev, onSelectNext, fromYear, toYear, maxYear, minYear, navigationIcons } = props;\n    const classNames = useCalendarYearStyles_unstable({\n        className\n    });\n    const ariaLabel = direction === CalendarYearNavDirection.Previous ? strings.prevRangeAriaLabel : strings.nextRangeAriaLabel;\n    const newRangeOffset = direction === CalendarYearNavDirection.Previous ? -CELL_COUNT : CELL_COUNT;\n    const newRange = {\n        fromYear: fromYear + newRangeOffset,\n        toYear: toYear + newRangeOffset\n    };\n    const ariaLabelString = ariaLabel ? typeof ariaLabel === 'string' ? ariaLabel : ariaLabel(newRange) : undefined;\n    const disabled = direction === CalendarYearNavDirection.Previous ? minYear !== undefined && fromYear < minYear : maxYear !== undefined && props.fromYear + CELL_COUNT > maxYear;\n    const onNavigate = ()=>{\n        direction === CalendarYearNavDirection.Previous ? onSelectPrev === null || onSelectPrev === void 0 ? void 0 : onSelectPrev() : onSelectNext === null || onSelectNext === void 0 ? void 0 : onSelectNext();\n    };\n    const onKeyDown = (ev)=>{\n        if (ev.key === Enter) {\n            onNavigate();\n        }\n    };\n    return /*#__PURE__*/ React.createElement(\"button\", {\n        className: mergeClasses(classNames.navigationButton, disabled && classNames.disabled),\n        onClick: !disabled ? onNavigate : undefined,\n        onKeyDown: !disabled ? onKeyDown : undefined,\n        type: \"button\",\n        title: ariaLabelString,\n        disabled: disabled\n    }, direction === CalendarYearNavDirection.Previous ? navigationIcons.upNavigation : navigationIcons.downNavigation);\n};\nCalendarYearNavArrow.displayName = 'CalendarYearNavArrow';\nconst CalendarYearNav = (props)=>{\n    const { className } = props;\n    const classNames = useCalendarYearStyles_unstable({\n        className\n    });\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        className: classNames.navigationButtonsContainer\n    }, /*#__PURE__*/ React.createElement(CalendarYearNavArrow, {\n        ...props,\n        direction: CalendarYearNavDirection.Previous\n    }), /*#__PURE__*/ React.createElement(CalendarYearNavArrow, {\n        ...props,\n        direction: CalendarYearNavDirection.Next\n    }));\n};\nCalendarYearNav.displayName = 'CalendarYearNav';\nconst CalendarYearTitle = (props)=>{\n    const { className, fromYear, toYear, strings = DefaultCalendarYearStrings, animateBackwards, animationDirection } = props;\n    const onHeaderSelect = ()=>{\n        var _props_onHeaderSelect;\n        (_props_onHeaderSelect = props.onHeaderSelect) === null || _props_onHeaderSelect === void 0 ? void 0 : _props_onHeaderSelect.call(props, true);\n    };\n    const onHeaderKeyDown = (ev)=>{\n        if (ev.key === Enter || ev.key === Space) {\n            onHeaderSelect();\n        }\n    };\n    const onRenderYear = (year)=>{\n        var _props_onRenderYear;\n        var _props_onRenderYear1;\n        return (_props_onRenderYear1 = (_props_onRenderYear = props.onRenderYear) === null || _props_onRenderYear === void 0 ? void 0 : _props_onRenderYear.call(props, year)) !== null && _props_onRenderYear1 !== void 0 ? _props_onRenderYear1 : year;\n    };\n    const classNames = useCalendarYearStyles_unstable({\n        className,\n        hasHeaderClickCallback: !!props.onHeaderSelect,\n        animateBackwards,\n        animationDirection\n    });\n    if (props.onHeaderSelect) {\n        const rangeAriaLabel = strings.rangeAriaLabel;\n        const headerAriaLabelFormatString = strings.headerAriaLabelFormatString;\n        const currentDateRange = rangeAriaLabel ? typeof rangeAriaLabel === 'string' ? rangeAriaLabel : rangeAriaLabel(props) : undefined;\n        const ariaLabel = headerAriaLabelFormatString ? headerAriaLabelFormatString.replace('{0}', currentDateRange !== null && currentDateRange !== void 0 ? currentDateRange : '') : currentDateRange;\n        return /*#__PURE__*/ React.createElement(\"button\", {\n            className: classNames.currentItemButton,\n            onClick: onHeaderSelect,\n            onKeyDown: onHeaderKeyDown,\n            \"aria-label\": ariaLabel,\n            role: \"button\",\n            type: \"button\"\n        }, /*#__PURE__*/ React.createElement(\"span\", {\n            \"aria-live\": \"assertive\",\n            \"aria-atomic\": \"true\"\n        }, onRenderYear(fromYear), \" - \", onRenderYear(toYear)));\n    }\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        className: classNames.current\n    }, onRenderYear(fromYear), \" - \", onRenderYear(toYear));\n};\nCalendarYearTitle.displayName = 'CalendarYearTitle';\nconst CalendarYearHeader = (props)=>{\n    const { className, animateBackwards, animationDirection, onRenderTitle } = props;\n    const classNames = useCalendarYearStyles_unstable({\n        className,\n        hasHeaderClickCallback: !!props.onHeaderSelect,\n        animateBackwards,\n        animationDirection\n    });\n    var _onRenderTitle;\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        className: classNames.headerContainer\n    }, (_onRenderTitle = onRenderTitle === null || onRenderTitle === void 0 ? void 0 : onRenderTitle(props)) !== null && _onRenderTitle !== void 0 ? _onRenderTitle : /*#__PURE__*/ React.createElement(CalendarYearTitle, props), /*#__PURE__*/ React.createElement(CalendarYearNav, props));\n};\nCalendarYearHeader.displayName = 'CalendarYearHeader';\nfunction useAnimateBackwards({ selectedYear, navigatedYear }) {\n    const rangeYear = selectedYear || navigatedYear || new Date().getFullYear();\n    const fromYear = Math.floor(rangeYear / 10) * 10;\n    const previousFromYearRef = React.useRef(fromYear);\n    React.useRef(()=>{\n        previousFromYearRef.current = fromYear;\n    });\n    const previousFromYear = previousFromYearRef.current;\n    if (!previousFromYear || previousFromYear === fromYear) {\n        return undefined;\n    } else if (previousFromYear > fromYear) {\n        return true;\n    } else {\n        return false;\n    }\n}\nfunction useYearRangeState({ selectedYear, navigatedYear }) {\n    const rangeYear = React.useMemo(()=>{\n        return selectedYear || navigatedYear || Math.floor(new Date().getFullYear() / 10) * 10;\n    }, [\n        navigatedYear,\n        selectedYear\n    ]);\n    const [fromYear, setFromYear] = React.useState(rangeYear);\n    const onNavNext = ()=>{\n        setFromYear((year)=>year + CELL_COUNT);\n    };\n    const onNavPrevious = ()=>{\n        setFromYear((year)=>year - CELL_COUNT);\n    };\n    React.useEffect(()=>{\n        setFromYear(rangeYear);\n    }, [\n        rangeYear\n    ]);\n    const toYear = fromYear + CELL_COUNT - 1;\n    return [\n        fromYear,\n        toYear,\n        onNavNext,\n        onNavPrevious\n    ];\n}\n/**\n * @internal\n */ export const CalendarYear = (props)=>{\n    const animateBackwards = useAnimateBackwards(props);\n    const [fromYear, toYear, onNavNext, onNavPrevious] = useYearRangeState(props);\n    const gridRef = React.useRef(null);\n    React.useImperativeHandle(props.componentRef, ()=>({\n            focus () {\n                var _gridRef_current_focus, _gridRef_current;\n                (_gridRef_current = gridRef.current) === null || _gridRef_current === void 0 ? void 0 : (_gridRef_current_focus = _gridRef_current.focus) === null || _gridRef_current_focus === void 0 ? void 0 : _gridRef_current_focus.call(_gridRef_current);\n            }\n        }));\n    const { className } = props;\n    const classNames = useCalendarYearStyles_unstable({\n        className\n    });\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        className: classNames.root\n    }, /*#__PURE__*/ React.createElement(CalendarYearHeader, {\n        ...props,\n        fromYear: fromYear,\n        toYear: toYear,\n        onSelectPrev: onNavPrevious,\n        onSelectNext: onNavNext,\n        animateBackwards: animateBackwards\n    }), /*#__PURE__*/ React.createElement(CalendarYearGrid, {\n        ...props,\n        fromYear: fromYear,\n        toYear: toYear,\n        animateBackwards: animateBackwards,\n        componentRef: gridRef\n    }));\n};\nCalendarYear.displayName = 'CalendarYear';\n"],"names":["CalendarYear","CELL_COUNT","CELLS_PER_ROW","DefaultCalendarYearStrings","prevRangeAriaLabel","undefined","nextRangeAriaLabel","CalendarYearGridCell","props","className","highlightCurrentYear","highlightSelectedYear","year","selected","disabled","componentRef","onSelectYear","onRenderYear","buttonRef","React","useRef","useImperativeHandle","focus","_buttonRef_current_focus","_buttonRef_current","current","call","onClick","onKeyDown","ev","key","Enter","classNames","useCalendarYearStyles_unstable","highlightCurrent","highlightSelected","_onRenderYear","createElement","mergeClasses","itemButton","type","role","ref","displayName","CalendarYearGrid","fromYear","toYear","animationDirection","animateBackwards","minYear","maxYear","selectedYear","selectedCellRef","currentCellRef","_focus","_this","renderCell","yearToRender","Date","getFullYear","value","_props_onRenderYear","_props_onRenderYear1","gridAriaLabel","cells","i","push","j","arrowNavigationAttributes","useArrowNavigationGroup","axis","gridContainer","map","cellRow","index","buttonRow","CalendarYearNavDirection","Previous","Next","CalendarYearNavArrow","strings","direction","onSelectPrev","onSelectNext","navigationIcons","ariaLabel","newRangeOffset","newRange","ariaLabelString","onNavigate","navigationButton","title","upNavigation","downNavigation","CalendarYearNav","navigationButtonsContainer","CalendarYearTitle","onHeaderSelect","_props_onHeaderSelect","onHeaderKeyDown","Space","hasHeaderClickCallback","rangeAriaLabel","headerAriaLabelFormatString","currentDateRange","replace","currentItemButton","CalendarYearHeader","onRenderTitle","_onRenderTitle","headerContainer","useAnimateBackwards","navigatedYear","rangeYear","Math","floor","previousFromYearRef","previousFromYear","useYearRangeState","useMemo","setFromYear","useState","onNavNext","onNavPrevious","useEffect","gridRef","_gridRef_current_focus","_gridRef_current","root"],"mappings":"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"}